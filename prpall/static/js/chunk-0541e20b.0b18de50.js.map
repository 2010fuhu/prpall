{"version":3,"sources":["webpack:///./src/views/commonship/UISaveProposalOrEndorse.vue?bb08","webpack:///src/views/commonship/UISaveProposalOrEndorse.vue","webpack:///./src/views/commonship/UISaveProposalOrEndorse.vue?d347","webpack:///./src/views/commonship/UISaveProposalOrEndorse.vue","webpack:///./src/api/underwrtAndGenerate.js","webpack:///./src/pubJs/underWrite.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","$store","state","bizType","_v","_s","$route","query","endorseNo","proposalNo","staticClass","attrs","on","$event","submitFormProposal","submitApproveNew","staticRenderFns","component","proposalGenerate","arg","url","request","method","data","JSON","stringify","endorseGenerate","underwrt","baseURL","process","undwrtInfoVo","businessID","businessNo","businessTable","businessType","comCode","curName","flag","inKey","makeCom","riskCode","userCode","valid","methods","$router","go","undwrtMainInfoReq","undwrtInfoReqList","undwrtinfo","push","day","Date","setTime","getTime","reqHeader","transDate","$uiCommon","getCurrentDate","transTime","getCurrentTime","transNo","uuid","underwrtF","obj","Promise","resolve","reject","underwrApi","then","res","resHeader","errCode","underWritingResponseMainVo","message","path","status","err"],"mappings":"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","file":"static/js/chunk-0541e20b.0b18de50.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('tr',[(_vm.$store.state.bizType=='ENDORSE')?_c('td',[_vm._v(\"批单保存成功，批单号是\"+_vm._s(_vm.$route.query.endorseNo))]):_c('td',[_vm._v(\"投保单保存成功，投保单号是\"+_vm._s(_vm.$route.query.proposalNo))])]),_c('tr',[_c('td',[_c('input',{staticClass:\"button\",attrs:{\"name\":\"butContinueInput\",\"type\":\"button\",\"alt\":\"继续录入\",\"value\":\"继续录入\"},on:{\"click\":function($event){return _vm.submitFormProposal()}}}),_c('input',{staticClass:\"button\",attrs:{\"type\":\"button\",\"name\":\"buttonUnderwrite\",\"alt\":\" 提交核保 \",\"value\":\"提交核保\"},on:{\"click\":function($event){return _vm.submitApproveNew('1')}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n\t\t<tr>\r\n\t\t    <td v-if=\"$store.state.bizType=='ENDORSE'\">批单保存成功，批单号是{{$route.query.endorseNo}}</td>\r\n\t\t    <td v-else >投保单保存成功，投保单号是{{$route.query.proposalNo}}</td>\r\n\t\t\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t    <td>\r\n\t\t     \t<input name=\"butContinueInput\" class=\"button\" type=\"button\"  alt=\"继续录入\" value=\"继续录入\" @click=\"submitFormProposal()\">\r\n\t\t\t\t<input type=\"button\" name=\"buttonUnderwrite\" class=button  alt=\" 提交核保 \" value=\"提交核保\" @click=\"submitApproveNew('1')\">\r\n            </td>\r\n\t\t</tr>\r\n\t\t\r\n  </div>\r\n</template>\r\n<script>\r\nimport underWrite from  '@/pubJs/underWrite.js'\r\nexport default ({\r\n\t ...underWrite\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UISaveProposalOrEndorse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UISaveProposalOrEndorse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UISaveProposalOrEndorse.vue?vue&type=template&id=6dd318c8&\"\nimport script from \"./UISaveProposalOrEndorse.vue?vue&type=script&lang=js&\"\nexport * from \"./UISaveProposalOrEndorse.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nexport default {//投保单生成接口\r\n    proposalGenerate(arg) {\r\n        let url=''\r\n        if(process.env.NODE_ENV==\"production\"){\r\n            url=`/nocar/interface/proposalgenerate`\r\n        }else{\r\n            url='/proposalGenerate'\r\n        }\r\n       \r\n        return request({\r\n        url,\r\n        method:'post',\r\n        data:JSON.stringify(arg)\r\n        })\r\n   },\r\n   endorseGenerate(arg) {\r\n    return request({\r\n    url:'endorse/create',\r\n    method:'post',\r\n    data:JSON.stringify(arg)\r\n    })\r\n},\r\n   underwrt(arg) {//核保接口\r\n       return request({\r\n       baseURL:process.env.NODE_ENV === 'production'?process.env.VUE_APP_UNDERWRT:process.env.VUE_APP_BASE_API,\r\n       url:`/underwrt`,\r\n       method:'post',\r\n       data:JSON.stringify(arg)\r\n       })\r\n  }\r\n\r\n} ","import underwrt from '@/json/underwrt.json'\r\nimport underwrApi from '@/api/underwrtAndGenerate.js'\r\nclass undwrtInfoVo{\r\n    constructor(){\r\n        this.businessID=0,\r\n        this.businessNo='',\r\n        this.businessTable='prptmain',\r\n        this.businessType=\"T\",\r\n        this.comCode=\"\",\r\n        this.curName=\"UnderwriteOne\",\r\n        this.flag='1',\r\n        this.inKey='',\r\n        this.makeCom=''\r\n        this.riskCode='',\r\n        this.userCode='',\r\n        this.valid='1'\r\n\r\n    }\r\n}\r\n\r\nexport default ({\r\n    data(){\r\n        return {\r\n              \r\n        }\r\n    },\r\n\tmethods:{\r\n\t\tsubmitFormProposal(){\r\n\t\t\tthis.$router.go(-1);\r\n\t\t},\r\n        \r\n\t\tsubmitApproveNew(arg){\r\n            underwrt.undwrtMainInfoReq.undwrtInfoReqList=[];\r\n            if(arg=='1'){\r\n                let undwrtinfo=new undwrtInfoVo()\r\n                undwrtinfo.businessNo=this.$store.state.bizType=='ENDORSE'?this.$route.query.endorseNo:this.$route.query.proposalNo\r\n                undwrtinfo.businessTable=this.$store.state.bizType=='ENDORSE'?'prppmain':'prptmain'\r\n                undwrtinfo.businessType=this.$store.state.bizType=='ENDORSE'?'E':'T'\r\n                undwrtinfo.comCode=this.$store.state.comCode\r\n                undwrtinfo.inKey=this.$store.state.bizType=='ENDORSE'?this.$route.query.endorseNo:this.$route.query.proposalNo\r\n                undwrtinfo.makeCom=this.$store.state.comCode\r\n                undwrtinfo.riskCode=this.$store.state.riskCode\r\n                undwrtinfo.userCode=this.$store.state.userCode\r\n                underwrt.undwrtMainInfoReq.undwrtInfoReqList.push(undwrtinfo)\r\n             }else{\r\n                underwrt.undwrtMainInfoReq.undwrtInfoReqList=[]\r\n             }\r\n            //组织reqHeader\r\n            let day = new Date();\r\n            day.setTime(day.getTime());\r\n            underwrt.reqHeader.transDate=this.$uiCommon.getCurrentDate()\r\n            underwrt.reqHeader.transTime=this.$uiCommon.getCurrentTime()\r\n            underwrt.reqHeader.transNo=this.$uiCommon.uuid()\r\n            this.underwrtF(underwrt)\r\n\t\t},\r\n        underwrtF(obj){\r\n            return new Promise((resolve,reject)=>{\r\n                underwrApi.underwrt(obj).then((res)=>{\r\n                        if(res.data.resHeader.errCode=='000'){\r\n                            resolve(res.data.underWritingResponseMainVo.message)\r\n                        }else{\r\n                            reject(res.data.underWritingResponseMainVo.message)\r\n                        }\r\n                })\r\n            }).then((message)=>{\r\n                this.$router.push( {path: '/UnderwriteSubmit',query: {status:'success',message:message }})\r\n            }).catch((err)=>{\r\n                this.$router.push( {path: '/UnderwriteSubmit',query: {status:'failure',message:err}})\r\n            })\r\n        }\r\n\t}\r\n\t\r\n})"],"sourceRoot":""}